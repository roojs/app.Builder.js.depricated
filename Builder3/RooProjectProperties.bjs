{"id":"file-gtk-9","name":"RooProjectProperties","parent":"","title":false,"path":"/home/alan/gitlive/app.Builder.js/Sample/RooProjectProperties.bjs","items":[{"|xns":"Gtk","xtype":"Dialog","|modal":true,"|show":"function() {\n    // get the active project.\n    var file = this.get('/Window.LeftTree').getActiveFile();\n    if (!file) {\n        this.get('/StandardErrorDialog').show(\"No file is currently active\");\n        return;\n    }\n    var project = this.get('/Window.LeftTree').getActiveFile().project;\n    //print (project.fn);\n    project.runhtml = project.runhtml || '';\n    this.get('view').el.get_buffer().set_text(project.runhtml, project.runhtml.length);\n    \n    this.el.show_all();\n}\n","default_width":500,"listeners":{"delete_event":"function (self, event) {\n    this.el.hide()\n    return true;\n}","response":"function (self, response_id) {\n   print(response_id);\n   if (!response_id) {\n      this.el.hide();\n    \n      return;\n   }\n   var buf =    this.get('view').el.get_buffer()\n   var s = new Gtk.TextIter();\n    var e = new Gtk.TextIter();\n    buf.get_start_iter(s);\n    buf.get_end_iter(e);\n    var str = buf.get_text(s,e,true);\n    // ideally we should syntax check it.. but it's html!?\n    \n   var project = this.get('/Window.LeftTree').getActiveFile().project;\n   \n   \n   project.runhtml = str;\n   \n   imports.Builder.Provider.ProjectManager.ProjectManager.saveConfig();\n//   print (str);\n   //    this.get('view').el.get_buffer().get_text(project.runjs, project.runjs.length);\n   // ok pressed..\n   this.el.hide();\n}"},"items":[{"|xns":"Gtk","xtype":"VBox","|pack":" function(p,e) {\n            p.el.get_content_area().add(e.el);\n            e.border_width  =5;\n        }\n","items":[{"|xns":"Gtk","xtype":"Label","pack":"pack_start,false,false,0","label":"HTML To insert at end of <HEAD>"},{"|xns":"Gtk","xtype":"ScrolledWindow","pack":"pack_end,true,true,0","items":[{"|xns":"GtkSource","xtype":"View","pack":"add","id":"view"}]}]},{"|xns":"Gtk","xtype":"Button","pack":"add_action_widget,1","label":"OK"},{"|xns":"Gtk","xtype":"Button","pack":"add_action_widget,0","label":"Cancel"}]}]}